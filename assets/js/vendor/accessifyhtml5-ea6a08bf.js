var AccessifyHTML5=function(e,t){"use strict";var l,a,r,n,i,o,s,u,c,d,f={article:{role:"article"},aside:{role:"complementary"},nav:{role:"navigation"},main:{role:"main"},output:{"aria-live":"polite"},section:{role:"region"},"[required]":{"aria-required":"true"}},m={ok:[],warn:[],fail:[]},h=m.fail,p=new RegExp("aria-[a-z]+|role|tabindex|title|alt|data-[\\w-]+|lang|style|maxlength|placeholder|pattern|required|type|target|accesskey|longdesc"),y="acfy-id-",g=0,b=document;if(b.querySelectorAll){if(e&&(e.header&&(f[e.header]={role:"banner"}),e.footer&&(f[e.footer]={role:"contentinfo"}),e.main&&(f[e.main]={role:"main"},f.main={role:""})),t&&t._CONFIG_&&t._CONFIG_.ignore_defaults)f=t;else for(u in t)f[u]=t[u];for(l in f)if(!l.match(/^_(CONFIG|[A-Z]+)_/)&&f.hasOwnProperty(l)){try{a=b.querySelectorAll(l)}catch(v){h.push({sel:l,attr:null,val:null,msg:"Invalid syntax for `document.querySelectorAll` function",ex:v})}for(o=f[l],(!a||a.length<1)&&m.warn.push({sel:l,attr:null,val:null,msg:"Not found"}),s=0;s<a.length;s++)for(i in o)if(o.hasOwnProperty(i)){if(r=i,n=o[i],r.match(/_?note/))continue;if(!r.match(p)){h.push({sel:l,attr:r,val:null,msg:"Attribute not allowed",re:p});continue}if(!(typeof n).match(/string|number|boolean/)){h.push({sel:l,attr:r,val:n,msg:"Value-type not allowed"});continue}if(c=r.match(/(describ|label)l?edby/)){try{d=b.querySelector(n)}catch(v){h.push({sel:l,attr:r,val:n,msg:"Invalid selector syntax (2) - see 'val'",ex:v})}if(!d){h.push({sel:l,attr:r,val:n,msg:"Labelledby ref not found - see 'val'"});continue}d.id||(d.id=y+g),n=d.id,r="aria-"+("label"===c[1]?"labelledby":"describedby"),g++}a[s].hasAttribute(r)?m.warn.push({sel:l,attr:r,val:n,msg:"Already present, skipped"}):(a[s].setAttribute(r,n),m.ok.push({sel:l,attr:r,val:n,msg:"Added"}))}}}return m.input=f,m};